/**
 * Dark Mode Fixes - إصلاحات إضافية للوضع الداكن
 * تحسين التباين والوضوح في جميع المكونات
 */

/* ========================================
   DATA TABLE DARK MODE
   ======================================== */

[data-theme="dark"] .data-table-container,
[data-theme="dark"] [class*="table-container"] {
  background: rgba(30, 41, 59, 0.95) !important;
  border-radius: 12px;
  padding: 1rem;
}

[data-theme="dark"] .data-table-header,
[data-theme="dark"] [class*="table-header"] {
  background: rgba(51, 65, 85, 0.8) !important;
  border-bottom: 2px solid rgba(71, 85, 105, 0.6);
  padding: 1rem;
}

/* Table Actions (Search, Filter, etc) */
[data-theme="dark"] .table-actions,
[data-theme="dark"] [class*="table-actions"] {
  background: transparent;
}

[data-theme="dark"] .table-actions input,
[data-theme="dark"] [class*="table-actions"] input {
  background: rgba(51, 65, 85, 0.8) !important;
  border-color: rgba(71, 85, 105, 0.6) !important;
  color: #f1f5f9 !important;
}

/* Table Rows - Better contrast */
[data-theme="dark"] table tbody tr {
  transition: background-color 0.2s ease;
}

[data-theme="dark"] table tbody tr:nth-child(odd) {
  background: rgba(30, 41, 59, 0.7) !important;
}

[data-theme="dark"] table tbody tr:nth-child(even) {
  background: rgba(30, 41, 59, 0.9) !important;
}

[data-theme="dark"] table tbody tr:hover {
  background: rgba(51, 65, 85, 0.8) !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

/* Table Cell Text */
[data-theme="dark"] table td {
  color: #e2e8f0 !important;
  font-weight: 500;
}

[data-theme="dark"] table th {
  color: #f1f5f9 !important;
  font-weight: 700;
  text-transform: uppercase;
  font-size: 0.875rem;
  letter-spacing: 0.05em;
}

/* ========================================
   ACTION BUTTONS IN TABLES
   ======================================== */

[data-theme="dark"] table button,
[data-theme="dark"] table .action-button {
  background: rgba(71, 85, 105, 0.8) !important;
  color: #cbd5e1 !important;
  border: 1px solid rgba(100, 116, 139, 0.5) !important;
}

[data-theme="dark"] table button:hover,
[data-theme="dark"] table .action-button:hover {
  background: rgba(100, 116, 139, 0.9) !important;
  color: #f1f5f9 !important;
  border-color: rgba(148, 163, 184, 0.7) !important;
}

/* Edit Button */
[data-theme="dark"] table button[class*="edit"],
[data-theme="dark"] table .btn-edit {
  background: rgba(59, 130, 246, 0.2) !important;
  color: #93c5fd !important;
  border-color: rgba(59, 130, 246, 0.4) !important;
}

[data-theme="dark"] table button[class*="edit"]:hover,
[data-theme="dark"] table .btn-edit:hover {
  background: rgba(59, 130, 246, 0.3) !important;
  color: #bfdbfe !important;
}

/* Delete Button */
[data-theme="dark"] table button[class*="delete"],
[data-theme="dark"] table button[class*="remove"],
[data-theme="dark"] table .btn-delete {
  background: rgba(239, 68, 68, 0.2) !important;
  color: #fca5a5 !important;
  border-color: rgba(239, 68, 68, 0.4) !important;
}

[data-theme="dark"] table button[class*="delete"]:hover,
[data-theme="dark"] table button[class*="remove"]:hover,
[data-theme="dark"] table .btn-delete:hover {
  background: rgba(239, 68, 68, 0.3) !important;
  color: #fecaca !important;
}

/* ========================================
   PAGINATION DARK MODE
   ======================================== */

[data-theme="dark"] .pagination,
[data-theme="dark"] [class*="pagination"] {
  background: rgba(30, 41, 59, 0.8);
  border-top: 2px solid rgba(71, 85, 105, 0.4);
  padding: 1rem;
  margin-top: 1rem;
}

[data-theme="dark"] .pagination-info,
[data-theme="dark"] [class*="pagination"] span:not([class*="button"]) {
  color: #cbd5e1 !important;
}

/* ========================================
   EMPTY STATE DARK MODE
   ======================================== */

[data-theme="dark"] .empty-state,
[data-theme="dark"] [class*="empty-state"] {
  background: rgba(30, 41, 59, 0.6);
  border: 2px dashed rgba(71, 85, 105, 0.5);
  color: #94a3b8;
  padding: 3rem;
  text-align: center;
  border-radius: 12px;
}

[data-theme="dark"] .empty-state-icon,
[data-theme="dark"] [class*="empty-state"] [class*="icon"] {
  color: #64748b;
  opacity: 0.6;
}

[data-theme="dark"] .empty-state-title,
[data-theme="dark"] [class*="empty-state"] h3 {
  color: #cbd5e1 !important;
}

[data-theme="dark"] .empty-state-description,
[data-theme="dark"] [class*="empty-state"] p {
  color: #94a3b8 !important;
}

/* ========================================
   CHECKBOXES DARK MODE
   ======================================== */

[data-theme="dark"] input[type="checkbox"] {
  background: rgba(51, 65, 85, 0.9) !important;
  border-color: rgba(71, 85, 105, 0.6) !important;
}

[data-theme="dark"] input[type="checkbox"]:checked {
  background: #7367f0 !important;
  border-color: #7367f0 !important;
}

/* ========================================
   LOADING STATES DARK MODE
   ======================================== */

[data-theme="dark"] .skeleton,
[data-theme="dark"] [class*="skeleton"] {
  background: linear-gradient(
    90deg,
    rgba(51, 65, 85, 0.6) 25%,
    rgba(71, 85, 105, 0.6) 50%,
    rgba(51, 65, 85, 0.6) 75%
  );
  background-size: 200% 100%;
}

[data-theme="dark"] .loading-spinner {
  border-color: rgba(71, 85, 105, 0.3);
  border-top-color: #7367f0;
}

/* ========================================
   TOOLTIPS DARK MODE
   ======================================== */

[data-theme="dark"] [class*="tooltip"],
[data-theme="dark"] [role="tooltip"] {
  background: rgba(15, 23, 42, 0.98) !important;
  color: #f1f5f9 !important;
  border: 1px solid rgba(71, 85, 105, 0.6);
  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
}

/* ========================================
   LABELS & BADGES DARK MODE
   ======================================== */

[data-theme="dark"] .label,
[data-theme="dark"] [class*="label"]:not([for]) {
  color: #cbd5e1 !important;
  font-weight: 600;
}

[data-theme="dark"] .badge {
  background: rgba(71, 85, 105, 0.8);
  color: #e2e8f0;
  border: 1px solid rgba(100, 116, 139, 0.5);
}

/* Status Badges */
[data-theme="dark"] .badge-success,
[data-theme="dark"] [class*="badge"][class*="success"] {
  background: rgba(34, 197, 94, 0.2) !important;
  color: #86efac !important;
  border-color: rgba(34, 197, 94, 0.4) !important;
}

[data-theme="dark"] .badge-warning,
[data-theme="dark"] [class*="badge"][class*="warning"] {
  background: rgba(251, 146, 60, 0.2) !important;
  color: #fdba74 !important;
  border-color: rgba(251, 146, 60, 0.4) !important;
}

[data-theme="dark"] .badge-error,
[data-theme="dark"] [class*="badge"][class*="error"],
[data-theme="dark"] [class*="badge"][class*="danger"] {
  background: rgba(239, 68, 68, 0.2) !important;
  color: #fca5a5 !important;
  border-color: rgba(239, 68, 68, 0.4) !important;
}

[data-theme="dark"] .badge-info,
[data-theme="dark"] [class*="badge"][class*="info"] {
  background: rgba(59, 130, 246, 0.2) !important;
  color: #93c5fd !important;
  border-color: rgba(59, 130, 246, 0.4) !important;
}

/* ========================================
   TEXT CONTRAST IMPROVEMENTS
   ======================================== */

[data-theme="dark"] h1,
[data-theme="dark"] h2,
[data-theme="dark"] h3,
[data-theme="dark"] h4,
[data-theme="dark"] h5,
[data-theme="dark"] h6 {
  color: #f1f5f9 !important;
  font-weight: 700;
}

[data-theme="dark"] p,
[data-theme="dark"] span:not([class*="material-icons"]) {
  color: #cbd5e1;
}

[data-theme="dark"] .text-muted,
[data-theme="dark"] .text-secondary {
  color: #94a3b8 !important;
}

/* ========================================
   GRADIENT TEXT IMPROVEMENTS
   ======================================== */

[data-theme="dark"] .text-gradient,
[data-theme="dark"] [class*="text-gradient"] {
  background: linear-gradient(135deg, #a78bfa 0%, #c4b5fd 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

[data-theme="dark"] .text-gradient-primary {
  background: linear-gradient(135deg, #818cf8 0%, #a78bfa 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ========================================
   FIX: Remove excessive text-shadow
   ======================================== */

[data-theme="dark"] table *,
[data-theme="dark"] button *,
[data-theme="dark"] input,
[data-theme="dark"] select {
  text-shadow: none !important;
}

/* ========================================
   ADDITIONAL CONTRAST IMPROVEMENTS
   ======================================== */

/* Ensure search input is visible */
[data-theme="dark"] input[type="search"],
[data-theme="dark"] input[placeholder*="بحث"],
[data-theme="dark"] input[placeholder*="الجدول"] {
  background: rgba(51, 65, 85, 0.95) !important;
  border-color: rgba(71, 85, 105, 0.7) !important;
  color: #f1f5f9 !important;
}

/* Better placeholder visibility */
[data-theme="dark"] input::placeholder {
  color: #94a3b8 !important;
  opacity: 0.8 !important;
}

/* Export/Action button improvements */
[data-theme="dark"] button[class*="export"],
[data-theme="dark"] button[class*="action"] {
  background: rgba(71, 85, 105, 0.9) !important;
  color: #e2e8f0 !important;
}

/* Header text in cards */
[data-theme="dark"] .card h2,
[data-theme="dark"] .card h3,
[data-theme="dark"] [class*="card"] h2,
[data-theme="dark"] [class*="card"] h3 {
  color: #f1f5f9 !important;
}

/* Section titles */
[data-theme="dark"] [class*="title"],
[data-theme="dark"] [class*="heading"] {
  color: #f1f5f9 !important;
}

/* ========================================
   DATA TABLE MODERN COMPACT DESIGN
   ======================================== */

/* DataTable Card - Seamless Dark Mode Integration */
[data-theme="dark"] [class*="Card"],
[data-theme="dark"] .data-table-container {
  background: rgba(30, 41, 59, 0.5) !important;
  border-color: rgba(71, 85, 105, 0.4) !important;
}

/* Table Container - Rounded corners */
.table-responsive {
  border-radius: 0 0 0.75rem 0.75rem !important;
}

/* Compact padding for Card components */
[class*="CardHeader"] {
  padding-bottom: 0.75rem !important;
}

[class*="CardBody"] {
  padding: 0 !important;
}

/* ========================================
   FORCE DARK MODE ON ALL WHITE BACKGROUNDS
   ======================================== */

/* Override any remaining white backgrounds in dark mode */
[data-theme="dark"] [class*="bg-white"],
[data-theme="dark"] .bg-white {
  background: rgba(30, 41, 59, 0.5) !important;
}

/* Ensure all cards use dark background */
[data-theme="dark"] [class*="Card"],
[data-theme="dark"] [class*="card"],
[data-theme="dark"] .card {
  background: rgba(30, 41, 59, 0.5) !important;
  border-color: rgba(71, 85, 105, 0.4) !important;
  color: rgb(203, 213, 225) !important;
}

/* Modal backgrounds in dark mode */
[data-theme="dark"] [class*="modal-content"],
[data-theme="dark"] .modal-content {
  background: rgba(30, 41, 59, 0.95) !important;
  border-color: rgba(71, 85, 105, 0.5) !important;
}

/* ========================================
   MODAL INPUT FIELDS - CRITICAL FIX
   ======================================== */

/* Target all inputs in modals with maximum specificity */
[data-theme="dark"] [role="dialog"] input:not([type="checkbox"]):not([type="radio"]),
[data-theme="dark"] [role="dialog"] textarea,
[data-theme="dark"] [role="dialog"] select,
[data-theme="dark"] div[class*="modal"] input:not([type="checkbox"]):not([type="radio"]),
[data-theme="dark"] div[class*="modal"] textarea,
[data-theme="dark"] div[class*="modal"] select {
  background: rgba(71, 85, 105, 0.6) !important;
  border-color: rgba(100, 116, 139, 0.7) !important;
  color: rgb(248, 250, 252) !important;
}

[data-theme="dark"] [role="dialog"] input:hover:not([type="checkbox"]):not([type="radio"]),
[data-theme="dark"] [role="dialog"] textarea:hover,
[data-theme="dark"] [role="dialog"] select:hover {
  background: rgba(71, 85, 105, 0.75) !important;
  border-color: rgba(115, 103, 240, 0.5) !important;
}

[data-theme="dark"] [role="dialog"] input:focus:not([type="checkbox"]):not([type="radio"]),
[data-theme="dark"] [role="dialog"] textarea:focus,
[data-theme="dark"] [role="dialog"] select:focus {
  background: rgba(71, 85, 105, 0.9) !important;
  border-color: rgba(115, 103, 240, 0.9) !important;
  box-shadow: 0 0 0 4px rgba(115, 103, 240, 0.25) !important;
}

[data-theme="dark"] [role="dialog"] input::placeholder,
[data-theme="dark"] [role="dialog"] textarea::placeholder {
  color: rgb(203, 213, 225) !important;
  opacity: 0.8 !important;
}

/* Dropdown menus in dark mode */
[data-theme="dark"] [class*="dropdown"],
[data-theme="dark"] [class*="menu-dropdown"] {
  background: rgba(30, 41, 59, 0.98) !important;
  border-color: rgba(71, 85, 105, 0.5) !important;
}

/* ========================================
   CRITICAL: DATA TABLE CARD DARK MODE FIX
   ======================================== */

/* Force DataTable Card to be dark - استهداف دقيق جداً */
[data-theme="dark"] .data-table-card,
[data-theme="dark"] .animate-scale-in,
[data-theme="dark"] [class*="Card"][class*="animate-scale-in"] {
  background: rgba(30, 41, 59, 0.5) !important;
  background-color: rgba(30, 41, 59, 0.5) !important;
  border-color: rgba(71, 85, 105, 0.4) !important;
}

/* CardHeader in DataTable */
[data-theme="dark"] .data-table-card [class*="CardHeader"],
[data-theme="dark"] [class*="CardHeader"],
[data-theme="dark"] .pb-3.group {
  background: rgba(15, 23, 42, 0.5) !important;
  background-color: rgba(15, 23, 42, 0.5) !important;
  border-color: rgba(71, 85, 105, 0.4) !important;
}

/* Ensure text is visible */
[data-theme="dark"] [class*="Card"] h5,
[data-theme="dark"] [class*="Card"] span,
[data-theme="dark"] [class*="Card"] label {
  color: rgb(226, 232, 240) !important;
}

/* Input fields in dark cards - Improved contrast & Lightness */
[data-theme="dark"] [class*="Card"] input,
[data-theme="dark"] [class*="Card"] select,
[data-theme="dark"] [class*="Card"] textarea {
  background: rgba(71, 85, 105, 0.6) !important;
  border-color: rgba(100, 116, 139, 0.7) !important;
  color: rgb(248, 250, 252) !important;
}

[data-theme="dark"] [class*="Card"] input:hover,
[data-theme="dark"] [class*="Card"] select:hover,
[data-theme="dark"] [class*="Card"] textarea:hover {
  background: rgba(71, 85, 105, 0.75) !important;
  border-color: rgba(115, 103, 240, 0.5) !important;
}

[data-theme="dark"] [class*="Card"] input:focus,
[data-theme="dark"] [class*="Card"] select:focus,
[data-theme="dark"] [class*="Card"] textarea:focus {
  background: rgba(71, 85, 105, 0.85) !important;
  border-color: rgba(115, 103, 240, 0.9) !important;
  box-shadow: 0 0 0 4px rgba(115, 103, 240, 0.2) !important;
}

[data-theme="dark"] [class*="Card"] input::placeholder,
[data-theme="dark"] [class*="Card"] textarea::placeholder {
  color: rgb(203, 213, 225) !important;
  opacity: 0.75 !important;
}

/* ========================================
   LOGIN PAGE DARK MODE
   ======================================== */

/* Login page inputs */
[data-theme="dark"] input[type="text"]::placeholder,
[data-theme="dark"] input[type="password"]::placeholder {
  color: rgb(148, 163, 184) !important;
  opacity: 0.8 !important;
}

/* Login page background elements */
[data-theme="dark"] .absolute.w-96.h-96 {
  opacity: 0.3;
}

/* ========================================
   FOOTER DARK MODE
   ======================================== */

[data-theme="dark"] footer {
  background: rgba(15, 23, 42, 0.85) !important;
  background-color: rgba(15, 23, 42, 0.85) !important;
  border-top: 1px solid rgba(71, 85, 105, 0.6) !important;
  color: var(--text-secondary) !important;
  box-shadow: 0 -1px 0 0 rgba(71, 85, 105, 0.3) inset, 0 -2px 8px 0 rgba(0, 0, 0, 0.3) !important;
}

/* Footer text colors in dark mode */
[data-theme="dark"] footer span {
  color: var(--text-secondary) !important;
}

[data-theme="dark"] footer .text-slate-400 {
  color: #94a3b8 !important;
}

[data-theme="dark"] footer .text-slate-500 {
  color: #64748b !important;
}

[data-theme="dark"] footer .text-slate-300 {
  color: #cbd5e1 !important;
}

[data-theme="dark"] footer .text-slate-600 {
  color: #475569 !important;
}

/* Footer logo container in dark mode */
[data-theme="dark"] footer div[class*="rounded-xl"] {
  background: rgba(51, 65, 85, 0.7) !important;
  background-color: rgba(51, 65, 85, 0.7) !important;
  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.3) !important;
}

/* Footer gradient text in dark mode */
[data-theme="dark"] footer .bg-gradient-to-r {
  background: linear-gradient(to right, #a78bfa, #c4b5fd, #ddd6fe) !important;
  -webkit-background-clip: text !important;
  background-clip: text !important;
  -webkit-text-fill-color: transparent !important;
}

/* Footer gradient overlay in dark mode */
[data-theme="dark"] footer div[class*="absolute"][class*="inset-0"] {
  background: linear-gradient(to top, rgba(115, 103, 240, 0.05) 0%, transparent 100%) !important;
  opacity: 0.3 !important;
}

/* Footer backdrop blur in dark mode */
[data-theme="dark"] footer {
  backdrop-filter: blur(20px) saturate(180%) !important;
  -webkit-backdrop-filter: blur(20px) saturate(180%) !important;
}

/* ========================================
   CRITICAL: BLUE/PRIMARY COLOR CONTRAST FIXES
   إصلاحات حاسمة لتباين الألوان الزرقاء/البنفسجية
   ======================================== */

/* Primary background colors with proper text contrast in dark mode */
[data-theme="dark"] .bg-primary-50,
[data-theme="dark"] [class*="bg-primary-50"],
[data-theme="dark"] .bg-primary-100,
[data-theme="dark"] [class*="bg-primary-100"] {
  background: rgba(59, 130, 246, 0.15) !important;
  background-color: rgba(59, 130, 246, 0.15) !important;
  color: #bfdbfe !important;
  border-color: rgba(59, 130, 246, 0.3) !important;
}

/* Text on primary backgrounds - ensure high contrast */
[data-theme="dark"] .bg-primary-50 *,
[data-theme="dark"] [class*="bg-primary-50"] *,
[data-theme="dark"] .bg-primary-100 *,
[data-theme="dark"] [class*="bg-primary-100"] * {
  color: #bfdbfe !important;
}

[data-theme="dark"] .bg-primary-50 .text-primary-600,
[data-theme="dark"] .bg-primary-50 .text-primary-700,
[data-theme="dark"] .bg-primary-50 .text-primary-800,
[data-theme="dark"] [class*="bg-primary-50"] .text-primary-600,
[data-theme="dark"] [class*="bg-primary-50"] .text-primary-700,
[data-theme="dark"] [class*="bg-primary-50"] .text-primary-800,
[data-theme="dark"] .bg-primary-100 .text-primary-600,
[data-theme="dark"] .bg-primary-100 .text-primary-700,
[data-theme="dark"] .bg-primary-100 .text-primary-800,
[data-theme="dark"] [class*="bg-primary-100"] .text-primary-600,
[data-theme="dark"] [class*="bg-primary-100"] .text-primary-700,
[data-theme="dark"] [class*="bg-primary-100"] .text-primary-800 {
  color: #bfdbfe !important;
}

/* Blue background colors (info colors) with proper contrast */
[data-theme="dark"] .bg-blue-50,
[data-theme="dark"] [class*="bg-blue-50"],
[data-theme="dark"] .bg-blue-100,
[data-theme="dark"] [class*="bg-blue-100"],
[data-theme="dark"] .bg-info-50,
[data-theme="dark"] [class*="bg-info-50"],
[data-theme="dark"] .bg-info-100,
[data-theme="dark"] [class*="bg-info-100"] {
  background: rgba(59, 130, 246, 0.15) !important;
  background-color: rgba(59, 130, 246, 0.15) !important;
  color: #bfdbfe !important;
  border-color: rgba(59, 130, 246, 0.3) !important;
}

/* Text on blue/info backgrounds */
[data-theme="dark"] .bg-blue-50 *,
[data-theme="dark"] [class*="bg-blue-50"] *,
[data-theme="dark"] .bg-blue-100 *,
[data-theme="dark"] [class*="bg-blue-100"] *,
[data-theme="dark"] .bg-info-50 *,
[data-theme="dark"] [class*="bg-info-50"] *,
[data-theme="dark"] .bg-info-100 *,
[data-theme="dark"] [class*="bg-info-100"] * {
  color: #bfdbfe !important;
}

/* Hover states on primary backgrounds */
[data-theme="dark"] .hover\:bg-primary-50:hover,
[data-theme="dark"] [class*="hover:bg-primary-50"]:hover,
[data-theme="dark"] .hover\:bg-primary-100:hover,
[data-theme="dark"] [class*="hover:bg-primary-100"]:hover {
  background: rgba(59, 130, 246, 0.2) !important;
  color: #dbeafe !important;
}

/* Selected row in tables with primary background */
[data-theme="dark"] tr.bg-primary-50,
[data-theme="dark"] tr[class*="bg-primary-50"],
[data-theme="dark"] .bg-primary-50 {
  background: rgba(59, 130, 246, 0.15) !important;
  color: #bfdbfe !important;
}

[data-theme="dark"] tr.bg-primary-50 td,
[data-theme="dark"] tr[class*="bg-primary-50"] td,
[data-theme="dark"] .bg-primary-50 td {
  color: #bfdbfe !important;
}

/* Pagination buttons with primary colors */
[data-theme="dark"] [class*="pagination"] button.bg-primary-600,
[data-theme="dark"] [class*="pagination"] button[class*="bg-primary-600"] {
  background: linear-gradient(135deg, #7367f0 0%, #5e52d5 100%) !important;
  color: white !important;
}

/* Buttons with primary hover states */
[data-theme="dark"] button.hover\:bg-primary-50:hover,
[data-theme="dark"] button[class*="hover:bg-primary-50"]:hover {
  background: rgba(59, 130, 246, 0.2) !important;
  color: #dbeafe !important;
}

/* Outline and ghost buttons in dark mode */
[data-theme="dark"] button[class*="outline"],
[data-theme="dark"] button[class*="ghost"] {
  border-color: rgba(115, 103, 240, 0.5) !important;
  color: #a78bfa !important;
}

[data-theme="dark"] button[class*="outline"]:hover,
[data-theme="dark"] button[class*="ghost"]:hover {
  background: rgba(115, 103, 240, 0.15) !important;
  border-color: rgba(115, 103, 240, 0.7) !important;
  color: #c4b5fd !important;
}

/* Tabs with primary colors */
[data-theme="dark"] [class*="tab"][class*="bg-primary-50"],
[data-theme="dark"] [class*="tab"][class*="text-primary-700"] {
  background: rgba(115, 103, 240, 0.15) !important;
  color: #c4b5fd !important;
  border-color: rgba(115, 103, 240, 0.4) !important;
}

/* SearchableSelect and Input with primary colors */
[data-theme="dark"] [class*="SearchableSelect"] .bg-primary-50,
[data-theme="dark"] [class*="Input"] .bg-primary-50 {
  background: rgba(59, 130, 246, 0.15) !important;
  color: #bfdbfe !important;
}

/* Badges with primary/info colors */
[data-theme="dark"] .badge[class*="primary"],
[data-theme="dark"] [class*="badge"][class*="primary"] {
  background: rgba(115, 103, 240, 0.2) !important;
  color: #c4b5fd !important;
  border-color: rgba(115, 103, 240, 0.4) !important;
}

/* Toast with info background */
[data-theme="dark"] [class*="Toast"] .bg-info-100,
[data-theme="dark"] [class*="toast"] .bg-info-100 {
  background: rgba(59, 130, 246, 0.15) !important;
  color: #bfdbfe !important;
  border-color: rgba(59, 130, 246, 0.3) !important;
}

/* ========================================
   HEADER PROFILE BUTTON OVERLAY FIXES
   إصلاحات overlay زر البروفايل في الـ Header
   ======================================== */

/* Profile button hover overlay - ensure visibility in dark mode */
[data-theme="dark"] button[class*="group"] .bg-gradient-to-r[class*="from-primary-500/0"][class*="group-hover:from-primary-500/5"] {
  background: linear-gradient(to right, rgba(115, 103, 240, 0) 0%, rgba(115, 103, 240, 0) 50%, rgba(115, 103, 240, 0) 100%) !important;
}

[data-theme="dark"] button[class*="group"]:hover .bg-gradient-to-r[class*="from-primary-500/0"][class*="group-hover:from-primary-500/5"] {
  background: linear-gradient(to right, rgba(115, 103, 240, 0.1) 0%, rgba(115, 103, 240, 0) 50%, rgba(115, 103, 240, 0.1) 100%) !important;
}

/* Ensure profile button text is visible in dark mode */
[data-theme="dark"] button[class*="bg-white/80"] {
  background: rgba(30, 41, 59, 0.8) !important;
  backdrop-filter: blur(8px) !important;
  color: #cbd5e1 !important;
}

[data-theme="dark"] button[class*="bg-white/80"]:hover {
  background: rgba(30, 41, 59, 0.95) !important;
  color: #e2e8f0 !important;
}

/* ========================================
   PROFILE DROPDOWN MENU OVERLAY FIXES
   إصلاحات overlay قائمة البروفايل المنسدلة
   ======================================== */

/* Profile dropdown overlay - dark mode */
[data-theme="dark"] div[class*="bg-gradient-to-l"][class*="from-primary-50/0"][class*="to-primary-50/100"] {
  background: linear-gradient(to left, rgba(115, 103, 240, 0) 0%, rgba(115, 103, 240, 0.15) 100%) !important;
}

[data-theme="dark"] button:hover div[class*="bg-gradient-to-l"][class*="from-primary-50/0"][class*="to-primary-50/100"] {
  background: linear-gradient(to left, rgba(115, 103, 240, 0) 0%, rgba(115, 103, 240, 0.2) 100%) !important;
  opacity: 1 !important;
}

/* Profile dropdown button text - dark mode */
[data-theme="dark"] button[class*="hover:from-primary-50"] {
  color: #cbd5e1 !important;
}

[data-theme="dark"] button[class*="hover:from-primary-50"]:hover {
  color: #c4b5fd !important;
}

/* Profile dropdown icon container - dark mode */
[data-theme="dark"] div[class*="from-primary-100"][class*="to-primary-200"] {
  background: linear-gradient(to bottom right, rgba(115, 103, 240, 0.2) 0%, rgba(115, 103, 240, 0.3) 100%) !important;
}

[data-theme="dark"] div[class*="from-primary-100"][class*="to-primary-200"]:hover {
  background: linear-gradient(to bottom right, rgba(115, 103, 240, 0.3) 0%, rgba(115, 103, 240, 0.4) 100%) !important;
}

[data-theme="dark"] div[class*="from-primary-100"] .text-primary-600,
[data-theme="dark"] div[class*="from-primary-100"] .text-primary-700 {
  color: #c4b5fd !important;
}

/* Sidebar menu items overlay - dark mode */
[data-theme="dark"] div[class*="bg-gradient-to-r"][class*="from-primary-500/0"][class*="group-hover:from-primary-500/8"] {
  background: linear-gradient(to right, rgba(115, 103, 240, 0) 0%, rgba(115, 103, 240, 0) 50%, rgba(115, 103, 240, 0) 100%) !important;
}

[data-theme="dark"] a[class*="group"]:hover div[class*="bg-gradient-to-r"][class*="from-primary-500/0"][class*="group-hover:from-primary-500/8"] {
  background: linear-gradient(to right, rgba(115, 103, 240, 0.1) 0%, rgba(115, 103, 240, 0) 50%, rgba(115, 103, 240, 0.1) 100%) !important;
}

/* Sidebar icon container - dark mode */
[data-theme="dark"] div[class*="from-slate-100"][class*="to-slate-200"] {
  background: linear-gradient(to bottom right, rgba(51, 65, 85, 0.6) 0%, rgba(71, 85, 105, 0.7) 100%) !important;
}

[data-theme="dark"] div[class*="from-slate-100"][class*="to-slate-200"]:hover,
[data-theme="dark"] div[class*="group-hover:from-primary-100"][class*="group-hover:to-primary-200"] {
  background: linear-gradient(to bottom right, rgba(115, 103, 240, 0.2) 0%, rgba(115, 103, 240, 0.3) 100%) !important;
}

[data-theme="dark"] div[class*="from-slate-100"] .text-slate-600 {
  color: #cbd5e1 !important;
}

[data-theme="dark"] div[class*="from-slate-100"]:hover .text-primary-700 {
  color: #c4b5fd !important;
}

/* ========================================
   THEME TOGGLE BUTTON FIXES
   إصلاحات زر تبديل المظهر
   ======================================== */

/* ThemeToggle button - dark mode */
[data-theme="dark"] button[class*="bg-white/80"][class*="hover:bg-white"] {
  background: rgba(30, 41, 59, 0.8) !important;
  backdrop-filter: blur(8px) !important;
  border-color: rgba(71, 85, 105, 0.6) !important;
  color: #cbd5e1 !important;
}

[data-theme="dark"] button[class*="bg-white/80"][class*="hover:bg-white"]:hover {
  background: rgba(30, 41, 59, 0.95) !important;
  border-color: rgba(115, 103, 240, 0.3) !important;
}

/* ThemeToggle overlay - dark mode */
[data-theme="dark"] button[class*="group"] div[class*="bg-gradient-to-r"][class*="from-primary-500/0"][class*="group-hover:from-primary-500/5"] {
  background: linear-gradient(to right, rgba(115, 103, 240, 0) 0%, rgba(115, 103, 240, 0) 50%, rgba(115, 103, 240, 0) 100%) !important;
}

[data-theme="dark"] button[class*="group"]:hover div[class*="bg-gradient-to-r"][class*="from-primary-500/0"][class*="group-hover:from-primary-500/5"] {
  background: linear-gradient(to right, rgba(115, 103, 240, 0.1) 0%, rgba(115, 103, 240, 0) 50%, rgba(115, 103, 240, 0.1) 100%) !important;
}

/* ThemeToggle icon container - dark mode */
[data-theme="dark"] button[class*="group"] div[class*="from-slate-100"][class*="to-slate-200"] {
  background: linear-gradient(to bottom right, rgba(51, 65, 85, 0.6) 0%, rgba(71, 85, 105, 0.7) 100%) !important;
}

[data-theme="dark"] button[class*="group"]:hover div[class*="from-slate-100"][class*="to-slate-200"],
[data-theme="dark"] button[class*="group"]:hover div[class*="group-hover:from-primary-100"][class*="group-hover:to-primary-200"] {
  background: linear-gradient(to bottom right, rgba(115, 103, 240, 0.2) 0%, rgba(115, 103, 240, 0.3) 100%) !important;
}

/* ThemeToggle text colors - dark mode */
[data-theme="dark"] button[class*="group"] .text-slate-600 {
  color: #cbd5e1 !important;
}

[data-theme="dark"] button[class*="group"] .text-slate-700 {
  color: #cbd5e1 !important;
}

[data-theme="dark"] button[class*="group"]:hover .text-primary-700 {
  color: #c4b5fd !important;
}

/* ========================================
   PROFILE BUTTON WHEN OPEN - DARK MODE
   إصلاحات زر البروفايل عند الفتح - الوضع الداكن
   ======================================== */

/* Profile button when open - ensure text visibility */
[data-theme="dark"] button[class*="bg-gradient-to-r"][class*="from-primary-50"][class*="to-primary-100/50"] {
  background: linear-gradient(to right, rgba(115, 103, 240, 0.15) 0%, rgba(115, 103, 240, 0.2) 100%) !important;
  border-color: rgba(115, 103, 240, 0.3) !important;
  color: #e2e8f0 !important;
}

[data-theme="dark"] button[class*="bg-gradient-to-r"][class*="from-primary-50"][class*="to-primary-100/50"] * {
  color: #e2e8f0 !important;
}

[data-theme="dark"] button[class*="bg-gradient-to-r"][class*="from-primary-50"][class*="to-primary-100/50"]:hover {
  background: linear-gradient(to right, rgba(115, 103, 240, 0.2) 0%, rgba(115, 103, 240, 0.25) 100%) !important;
  color: #f1f5f9 !important;
}

[data-theme="dark"] button[class*="bg-gradient-to-r"][class*="from-primary-50"][class*="to-primary-100/50"]:hover * {
  color: #f1f5f9 !important;
}

/* Profile button text when open - dark mode */
[data-theme="dark"] button[class*="bg-gradient-to-r"][class*="from-primary-50"] .text-primary-700,
[data-theme="dark"] button[class*="bg-gradient-to-r"][class*="from-primary-50"] .text-primary-600 {
  color: #e2e8f0 !important;
}

[data-theme="dark"] button[class*="bg-gradient-to-r"][class*="from-primary-50"]:hover .text-primary-700,
[data-theme="dark"] button[class*="bg-gradient-to-r"][class*="from-primary-50"]:hover .text-primary-600 {
  color: #f1f5f9 !important;
}

/* ========================================
   COMPREHENSIVE TEXT-BACKGROUND CONTRAST FIXES
   إصلاحات شاملة لتوافق النصوص مع الخلفيات
   ======================================== */

/* Ensure all text on colored backgrounds is visible in dark mode */
[data-theme="dark"] .bg-primary-50,
[data-theme="dark"] .bg-primary-100,
[data-theme="dark"] .bg-blue-50,
[data-theme="dark"] .bg-blue-100,
[data-theme="dark"] .bg-info-50,
[data-theme="dark"] .bg-info-100,
[data-theme="dark"] [class*="bg-primary-50"],
[data-theme="dark"] [class*="bg-primary-100"],
[data-theme="dark"] [class*="bg-blue-50"],
[data-theme="dark"] [class*="bg-blue-100"],
[data-theme="dark"] [class*="bg-info-50"],
[data-theme="dark"] [class*="bg-info-100"] {
  color: #bfdbfe !important;
}

/* All child elements text colors */
[data-theme="dark"] .bg-primary-50 *:not([class*="material-icons"]):not(button):not(a),
[data-theme="dark"] .bg-primary-100 *:not([class*="material-icons"]):not(button):not(a),
[data-theme="dark"] .bg-blue-50 *:not([class*="material-icons"]):not(button):not(a),
[data-theme="dark"] .bg-blue-100 *:not([class*="material-icons"]):not(button):not(a),
[data-theme="dark"] [class*="bg-primary-50"] *:not([class*="material-icons"]):not(button):not(a),
[data-theme="dark"] [class*="bg-primary-100"] *:not([class*="material-icons"]):not(button):not(a),
[data-theme="dark"] [class*="bg-blue-50"] *:not([class*="material-icons"]):not(button):not(a),
[data-theme="dark"] [class*="bg-blue-100"] *:not([class*="material-icons"]):not(button):not(a) {
  color: #bfdbfe !important;
}

/* Text on slate/gray backgrounds */
[data-theme="dark"] .bg-slate-50,
[data-theme="dark"] .bg-slate-100,
[data-theme="dark"] .bg-gray-50,
[data-theme="dark"] .bg-gray-100,
[data-theme="dark"] [class*="bg-slate-50"],
[data-theme="dark"] [class*="bg-slate-100"],
[data-theme="dark"] [class*="bg-gray-50"],
[data-theme="dark"] [class*="bg-gray-100"] {
  color: #e2e8f0 !important;
}

[data-theme="dark"] .bg-slate-50 *:not([class*="material-icons"]):not(button):not(a),
[data-theme="dark"] .bg-slate-100 *:not([class*="material-icons"]):not(button):not(a),
[data-theme="dark"] .bg-gray-50 *:not([class*="material-icons"]):not(button):not(a),
[data-theme="dark"] .bg-gray-100 *:not([class*="material-icons"]):not(button):not(a),
[data-theme="dark"] [class*="bg-slate-50"] *:not([class*="material-icons"]):not(button):not(a),
[data-theme="dark"] [class*="bg-slate-100"] *:not([class*="material-icons"]):not(button):not(a),
[data-theme="dark"] [class*="bg-gray-50"] *:not([class*="material-icons"]):not(button):not(a),
[data-theme="dark"] [class*="bg-gray-100"] *:not([class*="material-icons"]):not(button):not(a) {
  color: #e2e8f0 !important;
}

/* Override text-primary-* classes on colored backgrounds */
[data-theme="dark"] .bg-primary-50 .text-primary-500,
[data-theme="dark"] .bg-primary-50 .text-primary-400,
[data-theme="dark"] .bg-primary-50 .text-primary-300,
[data-theme="dark"] .bg-primary-100 .text-primary-500,
[data-theme="dark"] .bg-primary-100 .text-primary-400,
[data-theme="dark"] .bg-primary-100 .text-primary-300,
[data-theme="dark"] .bg-blue-50 .text-blue-500,
[data-theme="dark"] .bg-blue-50 .text-blue-400,
[data-theme="dark"] .bg-blue-50 .text-blue-300,
[data-theme="dark"] .bg-blue-100 .text-blue-500,
[data-theme="dark"] .bg-blue-100 .text-blue-400,
[data-theme="dark"] .bg-blue-100 .text-blue-300 {
  color: #bfdbfe !important;
}

/* Ensure text-slate-* on colored backgrounds is visible */
[data-theme="dark"] .bg-primary-50 .text-slate-600,
[data-theme="dark"] .bg-primary-50 .text-slate-700,
[data-theme="dark"] .bg-primary-50 .text-slate-800,
[data-theme="dark"] .bg-primary-100 .text-slate-600,
[data-theme="dark"] .bg-primary-100 .text-slate-700,
[data-theme="dark"] .bg-primary-100 .text-slate-800,
[data-theme="dark"] .bg-blue-50 .text-slate-600,
[data-theme="dark"] .bg-blue-50 .text-slate-700,
[data-theme="dark"] .bg-blue-50 .text-slate-800,
[data-theme="dark"] .bg-blue-100 .text-slate-600,
[data-theme="dark"] .bg-blue-100 .text-slate-700,
[data-theme="dark"] .bg-blue-100 .text-slate-800 {
  color: #bfdbfe !important;
}

/* ========================================
   MODAL TEXT-BACKGROUND CONTRAST FIXES
   إصلاحات توافق النصوص مع الخلفيات في النوافذ
   ======================================== */

/* Modal body text colors - dark mode */
[data-theme="dark"] .modal-body,
[data-theme="dark"] [class*="modal-body"],
[data-theme="dark"] [role="dialog"] .modal-body {
  color: #e2e8f0 !important;
}

[data-theme="dark"] .modal-body *:not(button):not(a):not([class*="material-icons"]),
[data-theme="dark"] [class*="modal-body"] *:not(button):not(a):not([class*="material-icons"]),
[data-theme="dark"] [role="dialog"] .modal-body *:not(button):not(a):not([class*="material-icons"]) {
  color: #e2e8f0 !important;
}

/* Modal info messages with primary/blue backgrounds - dark mode */
[data-theme="dark"] [role="dialog"] .bg-primary-50,
[data-theme="dark"] [role="dialog"] .bg-primary-100,
[data-theme="dark"] [role="dialog"] .bg-blue-50,
[data-theme="dark"] [role="dialog"] .bg-blue-100,
[data-theme="dark"] [role="dialog"] [class*="bg-primary-50"],
[data-theme="dark"] [role="dialog"] [class*="bg-primary-100"],
[data-theme="dark"] [role="dialog"] [class*="bg-blue-50"],
[data-theme="dark"] [role="dialog"] [class*="bg-blue-100"],
[data-theme="dark"] .modal-body .bg-primary-50,
[data-theme="dark"] .modal-body .bg-primary-100,
[data-theme="dark"] .modal-body .bg-blue-50,
[data-theme="dark"] .modal-body .bg-blue-100 {
  background: rgba(59, 130, 246, 0.15) !important;
  color: #bfdbfe !important;
  border-color: rgba(59, 130, 246, 0.3) !important;
}

[data-theme="dark"] [role="dialog"] .bg-primary-50 *:not(button):not(a):not([class*="material-icons"]),
[data-theme="dark"] [role="dialog"] .bg-primary-100 *:not(button):not(a):not([class*="material-icons"]),
[data-theme="dark"] [role="dialog"] .bg-blue-50 *:not(button):not(a):not([class*="material-icons"]),
[data-theme="dark"] [role="dialog"] .bg-blue-100 *:not(button):not(a):not([class*="material-icons"]),
[data-theme="dark"] .modal-body .bg-primary-50 *:not(button):not(a):not([class*="material-icons"]),
[data-theme="dark"] .modal-body .bg-primary-100 *:not(button):not(a):not([class*="material-icons"]),
[data-theme="dark"] .modal-body .bg-blue-50 *:not(button):not(a):not([class*="material-icons"]),
[data-theme="dark"] .modal-body .bg-blue-100 *:not(button):not(a):not([class*="material-icons"]) {
  color: #bfdbfe !important;
}

/* Modal text-primary-* on colored backgrounds - dark mode */
[data-theme="dark"] [role="dialog"] .bg-primary-50 .text-primary-600,
[data-theme="dark"] [role="dialog"] .bg-primary-50 .text-primary-700,
[data-theme="dark"] [role="dialog"] .bg-primary-50 .text-primary-800,
[data-theme="dark"] [role="dialog"] .bg-primary-100 .text-primary-600,
[data-theme="dark"] [role="dialog"] .bg-primary-100 .text-primary-700,
[data-theme="dark"] [role="dialog"] .bg-primary-100 .text-primary-800,
[data-theme="dark"] [role="dialog"] .bg-blue-50 .text-blue-600,
[data-theme="dark"] [role="dialog"] .bg-blue-50 .text-blue-700,
[data-theme="dark"] [role="dialog"] .bg-blue-50 .text-blue-900,
[data-theme="dark"] [role="dialog"] .bg-blue-100 .text-blue-600,
[data-theme="dark"] [role="dialog"] .bg-blue-100 .text-blue-700,
[data-theme="dark"] [role="dialog"] .bg-blue-100 .text-blue-900,
[data-theme="dark"] .modal-body .bg-primary-50 .text-primary-600,
[data-theme="dark"] .modal-body .bg-primary-50 .text-primary-700,
[data-theme="dark"] .modal-body .bg-primary-50 .text-primary-800,
[data-theme="dark"] .modal-body .bg-primary-100 .text-primary-600,
[data-theme="dark"] .modal-body .bg-primary-100 .text-primary-700,
[data-theme="dark"] .modal-body .bg-primary-100 .text-primary-800,
[data-theme="dark"] .modal-body .bg-blue-50 .text-blue-600,
[data-theme="dark"] .modal-body .bg-blue-50 .text-blue-700,
[data-theme="dark"] .modal-body .bg-blue-50 .text-blue-900,
[data-theme="dark"] .modal-body .bg-blue-100 .text-blue-600,
[data-theme="dark"] .modal-body .bg-blue-100 .text-blue-700,
[data-theme="dark"] .modal-body .bg-blue-100 .text-blue-900 {
  color: #bfdbfe !important;
}

/* Modal gradient backgrounds - dark mode */
[data-theme="dark"] [role="dialog"] [class*="from-primary-50"],
[data-theme="dark"] [role="dialog"] [class*="from-primary-100"],
[data-theme="dark"] [role="dialog"] [class*="from-blue-50"],
[data-theme="dark"] [role="dialog"] [class*="from-blue-100"],
[data-theme="dark"] .modal-body [class*="from-primary-50"],
[data-theme="dark"] .modal-body [class*="from-primary-100"],
[data-theme="dark"] .modal-body [class*="from-blue-50"],
[data-theme="dark"] .modal-body [class*="from-blue-100"] {
  background: rgba(59, 130, 246, 0.15) !important;
  color: #bfdbfe !important;
}

[data-theme="dark"] [role="dialog"] [class*="from-primary-50"] *:not(button):not(a):not([class*="material-icons"]),
[data-theme="dark"] [role="dialog"] [class*="from-primary-100"] *:not(button):not(a):not([class*="material-icons"]),
[data-theme="dark"] [role="dialog"] [class*="from-blue-50"] *:not(button):not(a):not([class*="material-icons"]),
[data-theme="dark"] [role="dialog"] [class*="from-blue-100"] *:not(button):not(a):not([class*="material-icons"]),
[data-theme="dark"] .modal-body [class*="from-primary-50"] *:not(button):not(a):not([class*="material-icons"]),
[data-theme="dark"] .modal-body [class*="from-primary-100"] *:not(button):not(a):not([class*="material-icons"]),
[data-theme="dark"] .modal-body [class*="from-blue-50"] *:not(button):not(a):not([class*="material-icons"]),
[data-theme="dark"] .modal-body [class*="from-blue-100"] *:not(button):not(a):not([class*="material-icons"]) {
  color: #bfdbfe !important;
}

